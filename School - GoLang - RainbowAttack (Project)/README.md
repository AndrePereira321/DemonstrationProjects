# Program Info

M. Absil
2019-2020 
HE2B ESI - Secuity BA2
Rainbow Generator and Attack


# Authors:

Baitemirova, Olga - 52191<br/>
De Sousa Pereira, André - 51999<br/>


# Dependences:

	- GoLang: Compiled programming language mainly designed for concurrential programming.
    Can be easly obtained at: https://golang.org/dl/
    A Linux Shell Script is provided to install the language kit. Script name: "installGoLang.sh" in root project folder.
    To install the language dependencies in Windows an automatic installer setup.exe is provided in official web site: https://golang.org/dl/. 
    After install GoLang compiler, a Makefile is provided in each program to compile the program.


# Description

    There are 3 steps to carry out the attack:
        - Generate a Rainbow Folder with rtGenerator.
        - Merge the files in the generated folder into a singled sorted file with the rtMerger.
        - Carry out the attack with the single sorted file with rtAttack.

    !!! To increase the success rate of the Rainbow, it only considers passwords of length 6 !!!
    The package "table" of the rtGenerator and rtAttack contains a global constant "pwSize" that can easly
    modify the size of the passwords! But the maximum allowed is 8 without modify other parts of the code (limit of lineSize)!

    Advised Chain Length: 20 000


# Project Content

## rtGenerator

    This program generates a Folder with a set of sorted little files containing the Rainbow Chains (lines).
    The default size of each file is 60MB. (Can be modified with the global constants: buffSize and maxRoutines in "tableGenerator" package).
    
    The program is launched with the arguments:
        ./rtGenerator <outputFolder> <numberOfLines> <chainLength>

## rtMerger

    This program merges the sorted files of the generated folder into a single sorted file.
    The output of this program is used by rtAttack.

    The program is launched with the arguments:
        ./rtMerger <inputFolder> <outputFile>

## rtAttack

	Carry out an attack of a file containing a SHA256 hash per line with the help of the merged rainbow table.
    It generates an output file where each line corresponds to each line of the hash file. Each line of the output file will contain
    the word corresponding the hash or "Not Found".
    It needs a rainbow table generated by our generator and merged by our merged! The 'pwSize' constant must correspond to the 'pwSize' constant during the generation.

    The program is launched with the arguments:
        ./rtAttack <inputHashesFile> <rainbowMergedTable> <outputPWsFile>

## Reducer

    Helps to debug the rainbow table.
    It receives a password and a chain length, and it displays all the passwords and hashes of that chain.
    Using a head of the table, with this program we can retrieve a hash that is sure to be inside the rainbow table.

    The program is launched with the arguments:
        ./reducer <head> <chainLength>


## Knowing Issues

### Not enought performances

    In a previous version with a variable password size between 6 and 8, and a generated table of 1O/12 hours
    the succes rate was between 0%->5% with an attack of 1/2 hours depending the chain length.

### Collisions

    Even with different reduction functions the table is sensitivie to collisions.
    So repetitions are ignored during the merge to avoid decrease the succes rate.

### Different concept from first delivery:

    During the last lesson, 4 days before the first delivery date it was
    told the importance of the structure of the rainbow table (to be able to make binary search) to increase performances.
    So urgence changes were made, and we decided to use SQL for the first delivery due the lack of time. 
    But during the second delivery we realized when the table increases the size, the insert operation is more slower and significantly reduces performances.
    So to the second delivery we finally decided to implement the Merge/Sort concept to the rainbow in Go.


## LibsPoEsi

Contains all the scripts provided in poEsi.

* PWCheck - Verify if the passwords file corresponds to the hashes file.
-----heck-passwd.cpp
* PWGenerator - Generates a file with passwords another with hashes.
-----gen-passwd.cpp
* PWUtils - Libs folder.
-----passwd-utils.hpp
-----random.hpp
* SHA256
-----sha256.cpp - SHA256 hash function.
-----sha256.hpp
